---
title: "Reverse Engineering Project" https://fivethirtyeight.com/features/women-in-comic-books/

author: Steven Adriana Andrea 
date: October 8, 2023
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction 

In this notebook, we are reverse engineering the story, [STORY NAME](STORY URL)

## Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}
library(tidyverse)
library(dplyr)
library(janitor)
library(readr)
library(refinr)

```

## Load and Cleaning Data


In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data. 

```{r}
# Load required data


# Path to data should be loaded from folder "data" i.e. read_csv("data/name_of_data.csv")

dc_data <- read_csv("data/dc-wikia-data.csv")
marvel_data <- read_csv("data/marvel-wikia-data.csv")

# Clean required data and prepare for analysis if needed. 

clean_dc <- clean_names(dc_data)

clean_marvel <- clean_names(marvel_data)

```

## Sentences to Engineer
In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

* **Sentence text**: Women were substantially underrepresented among characters with at least one appearance. Among the characters for which we have gender data,12 females made up only 29.3 percent of the DC character list and 24.7 percent of the Marvel roster.
* **Analysis summary**: In our replication of the findings, we found the representation of women in comics is actually a little lower than the percentage the author found for each comic company. Hickey stated that women made up only 29.3% of the DC character list but we found in the data that they only represented 23.6% of DC characters. Hickey also stated that women made up 24.7% of the Marvel roster but we found that they only accounted for 23.6%. 
```{r}
# Put code to reverse engineer sentence here

clean_dc |> 
  filter(appearances >= 1) |> 
  group_by(sex) |> 
   summarise(
    count=n()) |> 
  arrange(desc(count)) |> 
  mutate(percentage = (count/sum(count)*100))
```
```{r}

clean_marvel |> 
  filter(appearances >= 1) |> 
  group_by(sex) |> 
   summarise(
    count=n()) |> 
  arrange(desc(count)) |> 
  mutate(percentage = (count/sum(count)*100))

# Display results of code below this codeblock

```

### Sentence 2

* **Sentence text**: Publishing houses have also sought to introduce more gay, lesbian, bisexual and transgender characters into their stories. In some cases, both DC and Marvel have retroactively categorized a longstanding character as LGBT.
* **Analysis summary**: We found in our findings that LGBTQ+ characters in Marvel had a little bit of a boom in the 2000s. Every year from 2000-2013 introduced a new LGBTQ+ character. There were even a few in the 1990s, 80s and 70s, though one wasn’t introduced each year. Four LGBTQ+ characters were introduced in the 40s and then none were introduced in the 50s. For DC Comics, a new LGBTQ+ character isn’t introduced each year from 2000-2010, but there is typically more than one introduced during the represented years. There were five LGBTQ+ characters introduced in 1987, 1988 and 1989 – something that didn’t happen again until 2003. It is unclear if the LGBTQ+ characters in the earlier years were ones that were planned to be LGBTQ+ or if they were retroactively categorized as such.


```{r}
# Put code to reverse engineer sentence here
dc_girls_gays_theys <- clean_dc |>
  filter(!is.na(gsm))

```


```{r}
# Display results of code below this codeblock
dc_girls_gays_theys |>
  group_by(year) |>
  summarise(
    count_year=n()
  )
```
```{r}
marvel_girls_gays_they <- clean_marvel |>
  filter(!is.na(gsm))
```

```{r}
marvel_girls_gays_they |>
  group_by(year) |>
  summarise(
    count_year=n()
  )
```

### Sentence 3

* **Sentence text**: Tim Hanley, is a comics historian and researcher who analyzed every comic book release in 2011 by Marvel and DC Comics. Hanley found that that men outnumbered women nine-to-one behind the scenes at both DC and Marvel. He also estimated that 79 percent of people working on comics this year were white. 
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 4

* **Sentence text**: Members within the comic book industry make attempts themselves to find out exactly who their readers are. John Jackson Miller, who runs Comichron, a site that monitors detailed sales data for the comic book industry. There have been a number of attempts to count how many readers are women, but none was comprehensive enough.
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here

# Display results of code below this codeblock

```

### Sentence 5

* **Sentence text**: In both DC and Marvel, women were of neutral allegiance at a higher rate than men. Men were also more likely to be bad in each universe — in fact, bad-aligned men alone outnumbered all women combined. In other words, there’s something of a paucity of female villains.
* **Analysis summary**: We found that it holds true that women were less likely to have an evil alignment than men but were more likely to be neutral in both DC and Marvel comics. The original data and our data compare alignment within the sex category.
We found the following statistics with the data:
DC:
Evil men: 46.1%
Evil women: 30.2%
Neutral men: 7.7%
Neutral women: 10.2%

Marvel:
Evil men: 46.4%
Evil women: 25.7%
Neutral men: 12.4%
Neutral women: 17%



```{r}
# Put code to reverse engineer sentence here
clean_dc |> 
  filter(appearances >= 1) |> 
  group_by(sex, align) |> 
   summarise(
    count=n()) |> 
  arrange(desc(count)) |> 
  mutate(percentage = (count/sum(count)*100))
# Display results of code below this codeblock
```

```{r}
clean_marvel |> 
  filter(appearances >= 1) |> 
  group_by(sex, align) |> 
   summarise(
    count=n()) |> 
  arrange(desc(count)) |> 
  mutate(percentage = (count/sum(count)*100))
```

-30-